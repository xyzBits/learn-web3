- [第一个合约：Counter](#第一个合约counter)
- [声明编译器版本](#声明编译器版本)
- [定义合约](#定义合约)
  - [合约构造函数](#合约构造函数)
- [变量与函数的可见性](#变量与函数的可见性)
  - [public](#public)
  - [external](#external)
  - [internal](#internal)
  - [private](#private)
- [定义变量](#定义变量)
  - [常量](#常量)
  - [不可变量](#不可变量)
- [定义函数](#定义函数)
  - [函数参数](#函数参数)
  - [函数返回值](#函数返回值)
  - [状态可变性（mutability）](#状态可变性mutability)
  - [视图函数](#视图函数)
  - [纯函数](#纯函数)
- [练一练](#练一练)
- [小结](#小结)


# 第一个合约：Counter

```solidity
// SPDX-License-Identifier: MIT
pragma solidity >= 0.8.0

// 定义一个合约
contract Counter {
    uint public counter;

    constructor() {
        counter = 0;
    }

    function count() public {
        counter = counter + 1;
    }

    function get() public view returns (uint) {
        return counter;
    }
}
```

合约是可部署到区块链的最小单元，一个合约通常由状态变量（合约数据）和合约函数组成。

> 合约主要是处理状态的转换，合约程序实际上是在节点上运行，看不到打印输出


# 声明编译器版本
告诉编译器如何编译当前的合约代码，使用什么版本的编译器来编译。
```solidity
pragma solidity >= 0.8.0;

pragma solidity >=0.8.0 <0.9.0;

pragma solidity ^0.8.0;
```
版本表达式遵循 npm 版本语义。


# 定义合约
Solidity 使用 `Contract` 定义合约
```solidity
contract Counter {

}
```
与其他语言的类（`class`）很类似，在 Solidity 中，合约本身也是一个数据类型，称为合约类型。

合约部署到链上后，使用地址来表示一个合约。

合约 = 状态变量（合约数据） + 合约函数

> 合约还可以定义事件，自定义类型


## 合约构造函数
创建合约时执行的一个特殊函数，初始化合约，`constructor` 关键字声明一个构造函数。

如果没有初始化代码，可以省略。编译器会添加默认构造。

状态变量也可以在声明时指定，未指定时，默认值为0。

```solidity 
contract Base {
    uint x;
    address owner;

    constructor(uint _x) public {
        x = _x;
        owner = msg.sender;
    }
}
```


# 变量与函数的可见性
合约和其他语言的类很类似，


## public
## external
## internal
## private
# 定义变量
## 常量
## 不可变量
# 定义函数
## 函数参数
## 函数返回值
## 状态可变性（mutability）
## 视图函数
## 纯函数
# 练一练
# 小结